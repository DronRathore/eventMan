(function(a){a.eventMan=eventMan=function(){if(this instanceof eventMan){if(a.___currentUniqueID==undefined){a.___currentUniqueID=0}return this}else{new eventMan()}};eventMan.prototype.list={};eventMan.prototype.getUniqueID=function(b){if(b.uniqueID){return b.uniqueID}else{b.uniqueID=++a.___currentUniqueID}return b.uniqueID};eventMan.prototype.addToMap=function(b,d,c,e){if(b&&this.list[b]==undefined){this.list[b]={el:c,_callbacks:{}};this.list[b]._callbacks[d]=[e]}else{this.list[b]._callbacks[d]=this.list[b]._callbacks[d]?this.list[b]._callbacks[d]:[];this.list[b]._callbacks[d].push(e)}};eventMan.prototype.attachEvent=function(e,b,j){var h=!e.length?this.getUniqueID(e):false;var k=this;var d=e==window?window:document.body;if(!h){var c=e.length;for(var f=0;f<c;f++){var g=e[f];if(g.ATTRIBUTE_NODE){var h=this.getUniqueID(g);this.addToMap(h,b,g,j);if(b=="focus"||b=="blur"){this.addEventListener(g,null,b)}}}}else{this.addToMap(h,b,e,j)}this.addEventListener(e,d,b)};eventMan.prototype.addEventListener=function(b,e,d){var c=this;var b=b;if(d=="focus"||d=="blur"){var e=b}if(e["on"+d]==null){e["on"+d]=function(i){if(b==window){var f=window.uniqueID;var g=window}else{var g=i.srcElement?i.srcElement:i.target;var f=g.uniqueID}if(f&&c.list[f]&&c.list[f]._callbacks[d]){var h=c.list[f]._callbacks[d];c.fireMan(g,i,h)}}}};eventMan.prototype.fireMan=function(c,f,e){var d=e.length;for(var b=0;b<d;b++){(function(g,h){e[b](g,h)})(c,f)}}})(window);
