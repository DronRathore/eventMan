!function(t){t.eventMan=eventMan=function(){return this instanceof eventMan?(void 0==t.___currentUniqueID&&(t.___currentUniqueID=0),this):void new eventMan},eventMan.prototype.list={},eventMan.prototype.getUniqueID=function(n){return n.uniqueID?n.uniqueID:(n.uniqueID=++t.___currentUniqueID,n.uniqueID)},eventMan.prototype.addToMap=function(t,n,e,i){t&&void 0==this.list[t]?(this.list[t]={el:e,_callbacks:{}},this.list[t]._callbacks[n]=[i]):(this.list[t]._callbacks[n]=this.list[t]._callbacks[n]?this.list[t]._callbacks[n]:[],this.list[t]._callbacks[n].push(i))},eventMan.prototype.attachEvent=function(t,n,e){var i=t.length?!1:this.getUniqueID(t),a=t==window?window:document.body;if(i)this.addToMap(i,n,t,e);else for(var s=t.length,o=0;s>o;o++){var r=t[o];if(r.ATTRIBUTE_NODE){var i=this.getUniqueID(r);this.addToMap(i,n,r,e)}}return this.addEventListener(t,a,n)},eventMan.prototype.addEventListener=function(t,n,e){var i=this,t=t;if("focus"==e||"blur"==e)var n=t;return null==n["__"+e]&&(n["__"+e]=!0,n.addEventListener)?n.addEventListener(e,function(n){if(n.stopPropagation&&n.stopPropagation(),t==window)var a=window.uniqueID,s=window;else var s=n.srcElement?n.srcElement:n.target,a=s.uniqueID;if(a&&i.list[a]&&i.list[a]._callbacks[e]){var o=i.list[a]._callbacks[e];i.fireMan(s,n,o)}},!0):void 0},eventMan.prototype.fireMan=function(t,n,e){for(var i=e.length,a=0;i>a;a++)(function(t,n){e[a](t,n)})(t,n)}}(window);